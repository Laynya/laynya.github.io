<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
 <script type="text/javascript">
   function getJson() {
     //var xmlhttp = createXMLHttpRequest(); //旧バージョンのIEなどに対応する場合
     var xmlhttp = new XMLHttpRequest();

     xmlhttp.onreadystatechange = function () {
       if (xmlhttp.readyState == 4) {
         if (xmlhttp.status == 200) {
           var data = JSON.parse(xmlhttp.responseText);

           var elem = document.getElementById("output_id");
           elem.innerText = data.id;
           var elem = document.getElementById("output_course");
           elem.innerText = data.course_id;
           var elem = document.getElementById("output_timetableid");
           elem.innerText = data.timetable_set_id;
           var elem = document.getElementById("output_arrival");
           elem.innerText = data.arrival_time;
           var elem = document.getElementById("output_depature");
           elem.innerText = data.departure_time;
           var elem = document.getElementById("output_shuttle");
           elem.innerText = data.is_shuttle;
         } else {
         }
       }
     }
     xmlhttp.open("GET", "https://bus.t-lab.cs.teu.ac.jp/api/v1/timetables?from=4&datetime=2019-12-12%2017:51");
     xmlhttp.send();
   }

   function createXMLHttpRequest() {
     if (window.XMLHttpRequest) { return new XMLHttpRequest() }
     if (window.ActiveXObject) {
       try { return new ActiveXObject("Msxml2.XMLHTTP.6.0") } catch (e) { }
       try { return new ActiveXObject("Msxml2.XMLHTTP.3.0") } catch (e) { }
       try { return new ActiveXObject("Microsoft.XMLHTTP") } catch (e) { }
     }
     return false;
   }

  </script>

</head>
<body>
  <input id="Button_Get" type="button" value="JSON読み込み" onclick="getJson();" />
  <hr />
  <div>受信情報</div>
  Name:<span id="output_id"></span><br />
  Height:<span id="output_timetableid"></span><br />
  Weight:<span id="output_course"></span><br />
  Price:<span id="output_arrival"></span><br />
  Memo:<span id="output_depature"></span><br />
  Memo:<span id="output_shuttle"></span><br />

</body>
</html>
